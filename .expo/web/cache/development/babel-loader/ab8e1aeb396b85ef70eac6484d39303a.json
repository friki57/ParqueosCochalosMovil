{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _index = _interopRequireDefault(require(\"../../index\"));\n\nvar _AnimatedPoint = _interopRequireDefault(require(\"../../utils/animated/AnimatedPoint\"));\n\nvar _jsxFileName = \"/Users/angelaranibar/Erick/ParqueosCochalosMovil-master/Movil/ParqueosCochalos/node_modules/@react-native-mapbox-gl/maps/javascript/components/annotations/Annotation.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Annotation = function (_React$Component) {\n  (0, _inherits2.default)(Annotation, _React$Component);\n\n  var _super = _createSuper(Annotation);\n\n  function Annotation(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Annotation);\n    _this = _super.call(this, props);\n\n    var shape = _this._getShapeFromProps(props);\n\n    _this.state = {\n      shape: props.animated ? new _AnimatedPoint.default(shape) : shape\n    };\n    _this.onPress = _this.onPress.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(Annotation, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!Array.isArray(this.props.coordinates)) {\n        this.setState({\n          shape: null\n        });\n        return;\n      }\n\n      var hasCoordChanged = prevProps.coordinates[0] !== this.props.coordinates[0] || prevProps.coordinates[1] !== this.props.coordinates[1];\n\n      if (!hasCoordChanged) {\n        return;\n      }\n\n      if (this.props.animated && this.state.shape) {\n        this.state.shape.stopAnimation();\n        this.state.shape.timing({\n          coordinates: this.props.coordinates,\n          easing: this.props.animationEasingFunction,\n          duration: this.props.animationDuration\n        }).start();\n      } else if (!this.state.shape || !this.props.animated) {\n        var shape = this._getShapeFromProps(this.props);\n\n        this.setState({\n          shape: this.props.animated ? new _AnimatedPoint.default(shape) : shape\n        });\n      }\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress() {\n      if (this.props.onPress) {\n        this.props.onPress();\n      }\n    }\n  }, {\n    key: \"_getShapeFromProps\",\n    value: function _getShapeFromProps() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var lng = props.coordinates[0] || 0;\n      var lat = props.coordinates[1] || 0;\n      return {\n        type: 'Point',\n        coordinates: [lng, lat]\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.coordinates) {\n        return null;\n      }\n\n      return _react.default.createElement(_index.default.Animated.ShapeSource, {\n        id: this.props.id,\n        ref: \"source\",\n        onPress: this.onPress,\n        shape: this.state.shape,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }\n      }, this.symbolStyle && _react.default.createElement(_index.default.SymbolLayer, {\n        id: this.props.id + \"-symbol\",\n        style: this.symbolStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }), this.props.children);\n    }\n  }, {\n    key: \"symbolStyle\",\n    get: function get() {\n      if (!this.props.icon) {\n        return;\n      }\n\n      return (0, _extends2.default)({}, this.props.style, {\n        iconImage: this.props.icon\n      });\n    }\n  }]);\n  return Annotation;\n}(_react.default.Component);\n\nAnnotation.propTypes = {\n  id: _propTypes.default.string.isRequired,\n  animated: _propTypes.default.bool,\n  animationDuration: _propTypes.default.number,\n  animationEasingFunction: _propTypes.default.func,\n  coordinates: _propTypes.default.arrayOf(_propTypes.default.number),\n  onPress: _propTypes.default.func,\n  children: _propTypes.default.any,\n  style: _propTypes.default.any,\n  icon: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object])\n};\nAnnotation.defaultProps = {\n  animated: false,\n  animationDuration: 1000,\n  animationEasingFunction: _reactNative.Easing.linear\n};\nvar _default = Annotation;\nexports.default = _default;","map":{"version":3,"sources":["/Users/angelaranibar/Erick/ParqueosCochalosMovil-master/Movil/ParqueosCochalos/node_modules/@react-native-mapbox-gl/maps/javascript/components/annotations/Annotation.js"],"names":["Annotation","props","shape","_getShapeFromProps","state","animated","AnimatedMapPoint","onPress","bind","prevProps","Array","isArray","coordinates","setState","hasCoordChanged","stopAnimation","timing","easing","animationEasingFunction","duration","animationDuration","start","lng","lat","type","id","symbolStyle","children","icon","style","iconImage","React","Component","propTypes","PropTypes","string","isRequired","bool","number","func","arrayOf","any","oneOfType","object","defaultProps","Easing","linear"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Easing} from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport MapboxGL from '../../index'; // eslint-disable-line import/no-cycle\nimport AnimatedMapPoint from '../../utils/animated/AnimatedPoint';\n\nclass Annotation extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    animated: PropTypes.bool,\n    animationDuration: PropTypes.number,\n    animationEasingFunction: PropTypes.func,\n    coordinates: PropTypes.arrayOf(PropTypes.number),\n    onPress: PropTypes.func,\n    children: PropTypes.any,\n    style: PropTypes.any,\n    icon: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n      PropTypes.object,\n    ]),\n  };\n\n  static defaultProps = {\n    animated: false,\n    animationDuration: 1000,\n    animationEasingFunction: Easing.linear,\n  };\n\n  constructor(props) {\n    super(props);\n\n    const shape = this._getShapeFromProps(props);\n\n    this.state = {\n      shape: props.animated ? new AnimatedMapPoint(shape) : shape,\n    };\n\n    this.onPress = this.onPress.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!Array.isArray(this.props.coordinates)) {\n      this.setState({shape: null});\n      return;\n    }\n\n    const hasCoordChanged =\n      prevProps.coordinates[0] !== this.props.coordinates[0] ||\n      prevProps.coordinates[1] !== this.props.coordinates[1];\n\n    if (!hasCoordChanged) {\n      return;\n    }\n\n    if (this.props.animated && this.state.shape) {\n      // flush current animations\n      this.state.shape.stopAnimation();\n\n      this.state.shape\n        .timing({\n          coordinates: this.props.coordinates,\n          easing: this.props.animationEasingFunction,\n          duration: this.props.animationDuration,\n        })\n        .start();\n    } else if (!this.state.shape || !this.props.animated) {\n      const shape = this._getShapeFromProps(this.props);\n\n      this.setState({\n        shape: this.props.animated ? new AnimatedMapPoint(shape) : shape,\n      });\n    }\n  }\n\n  onPress() {\n    if (this.props.onPress) {\n      this.props.onPress();\n    }\n  }\n\n  _getShapeFromProps(props = {}) {\n    const lng = props.coordinates[0] || 0;\n    const lat = props.coordinates[1] || 0;\n    return {type: 'Point', coordinates: [lng, lat]};\n  }\n\n  get symbolStyle() {\n    if (!this.props.icon) {\n      return;\n    }\n    return Object.assign({}, this.props.style, {\n      iconImage: this.props.icon,\n    });\n  }\n\n  render() {\n    if (!this.props.coordinates) {\n      return null;\n    }\n\n    return (\n      <MapboxGL.Animated.ShapeSource\n        id={this.props.id}\n        ref=\"source\"\n        onPress={this.onPress}\n        shape={this.state.shape}\n      >\n        {this.symbolStyle && (\n          <MapboxGL.SymbolLayer\n            id={`${this.props.id}-symbol`}\n            style={this.symbolStyle}\n          />\n        )}\n        {this.props.children}\n      </MapboxGL.Animated.ShapeSource>\n    );\n  }\n}\n\nexport default Annotation;\n"]},"metadata":{},"sourceType":"script"}